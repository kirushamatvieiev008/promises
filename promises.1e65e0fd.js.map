{"mappings":"AC4EA,IAAM,EAAQ,CACV,CAAE,KAAM,QAAS,OAAQ,CAAA,CAAK,EAC9B,CAAE,KAAM,OAAQ,OAAQ,CAAA,CAAM,EAC9B,CAAE,KAAM,OAAQ,OAAQ,CAAA,CAAK,EAC7B,CAAE,KAAM,MAAO,OAAQ,CAAA,CAAM,EAChC,AAEiB,CAAA,CAAK,CAAC,EAAE,CAAC,MAAM,CAChB,CAAK,CAAC,EAAE,CAAC,MAAM,CACf,CAAK,CAAC,EAAE,CAAC,MAAM,CAChB,CAAK,CAAC,EAAE,CAAC,MAAM,CAE/B,IAAI,EAAK,CAAA,EACH,EAAkB,CAAC,EAAU,IACxB,IAAI,QAAQ,AAAA,IAiBf,EAhBqB,EAAS,GAAG,CAAC,AAAA,GAE9B,AAAI,EAAK,IAAI,GAAK,EASP,EARH,IAAO,EAAK,MAAM,EAClB,EAAK,CAAA,EACE,CAAE,GAAG,CAAI,CAAE,OAAQ,CAAA,CAAM,IAEhC,EAAK,CAAA,EACE,CAAE,GAAG,CAAI,CAAE,OAAQ,CAAA,CAAK,IAS/C,GAGE,EAAS,AAAA,GAAgB,QAAQ,KAAK,CAAC,GAK7C,EAAgB,EAAO,SAAS,IAAI,CAAC,GACrC,EAAgB,EAAO,SAAS,IAAI,CAAC,GACrC,EAAgB,EAAO,SAAS,IAAI,CAAC,GAqBrC,IAAM,EAAkB,AAAC,IACrB,IAAM,EAJC,KAAK,KAAK,CAAC,AAAiB,IAAjB,KAAK,MAAM,GAIW,KAExC,OAAO,IAAI,QAAQ,CAAC,EAAK,KACrB,WAAW,KACP,IAAM,EAAa,KAAK,MAAM,GAAK,GACnC,QAAQ,GAAG,CAAC,GAER,EACA,EAAI,EAAY,EAAE,CAAE,GAEpB,EAAI,EAAY,EAAE,CAI1B,EAAG,EACP,EACJ,EAEM,EAAa,CAAC,EAAI,KACpB,QAAQ,GAAG,CAAC,CAAC,YAAY,EAAE,EAAG,cAAc,EAAE,EAAK,EAAE,CAAC,CAC1D,EAEM,EAAW,AAAA,IACb,QAAQ,IAAI,CAAC,CAAC,6BAA6B,EAAE,EAAG,yBAAyB,CAAC,CAC9E,EAYA,EAAgB,CAAE,GAAI,GAAI,OAAQ,GAAI,GAAG,IAAI,CAAC,GAAY,KAAK,CAAC,GAEhE,EAAgB,CAAE,GAAI,GAAI,OAAQ,GAAI,GACjC,IAAI,CAAC,GACL,KAAK,CAAC,GAEX,EAAgB,CAAE,GAAI,GAAI,OAAQ,EAAG,GAChC,IAAI,CAAC,GACL,KAAK,CAAC,GAEX,EAAgB,CAAE,GAAI,GAAI,OAAQ,GAAI,GACjC,IAAI,CAAC,GACL,KAAK,CAAC","sources":["<anon>","src/app.js"],"sourcesContent":["var $6f40c3a58f594b58$exports = {};\n// // const promise1 = new Promise((res, rej) => {\n// // // })\n// // const makeOrder = (dish, onSuccess, onError) => {\n// //   const passed = Math.random() > 0.5;\n// //   setTimeout(() => {\n// //     if (passed) {\n// //       // якщо пройшло — викликаємо onSuccess\n// //     //   if (typeof onSuccess === 'function') {\n// //         onSuccess(`Ось ваше блюдо: ${dish}`);\n// //     //   }\n// //     } else {\n// //       // якщо не пройшло — викликаємо onError\n// //     //   if (typeof onError === 'function') {\n// //         onError(\"Продукти скінчились\");\n// //     //   }\n// //     }\n// //   }, 1000);\n// // };\n// // makeOrder(\"borsch\", (text) => console.log(text), (text) => console.log(text));\n// const order = (dish) => {\n//     return new Promise((res, rej) => {\n//         const passed = Math.random() > 0.5;\n//         setTimeout(() => {\n//             if (passed) {\n//                 res('here is your dish');\n//             } else {\n//                 rej('no components for this dish :(')\n//             }\n//         }, 2000)\n//     });\n// }\n// // console.log(fetch('https://jsonplaceholder.typicode.com/todos/1'));\n// order('borsch').then((text) => console.log(text)).catch((err) => console.log(err));\n// const getValues = () => {\n//     return fetch('https://jsonplaceholder.typicode.com/todos/1').then((res) => res.json());\n// }\n// getValues().then(res => console.log(res))\n// const delay = ms => {\n//     return new Promise((res, rej) => {\n//         setTimeout(() => {\n//             if (ms) {\n//                 res(ms);\n//             } else {\n//                 rej(`qwertyuio`);\n//             }\n//         }, ms);\n//     })\n// };\n// const logger = time => console.log(`Resolved after ${time}ms`);\n// // Виклич функції для перевірки\n// console.log(delay(1000));\n// delay(2000).then(logger); // Resolved after 2000ms\n// delay(1000).then(logger); // Resolved after 1000ms\n// delay().then(logger).catch(err => console.log(err)); // Resolved after 1500ms\n// // delay(2000).then(() => {}).catch(() => ()).finally(() => {})\nconst $6f40c3a58f594b58$var$users = [\n    {\n        name: 'Mango',\n        active: true\n    },\n    {\n        name: 'Poly',\n        active: false\n    },\n    {\n        name: 'Ajax',\n        active: true\n    },\n    {\n        name: 'Lux',\n        active: false\n    }\n];\nlet $6f40c3a58f594b58$var$isTrueMango = $6f40c3a58f594b58$var$users[0].active;\nlet $6f40c3a58f594b58$var$isTruePoly = $6f40c3a58f594b58$var$users[1].active;\nlet $6f40c3a58f594b58$var$isTrueAjax = $6f40c3a58f594b58$var$users[2].active;\nlet $6f40c3a58f594b58$var$isTrueLux = $6f40c3a58f594b58$var$users[3].active;\nlet $6f40c3a58f594b58$var$is = true;\nconst $6f40c3a58f594b58$var$toggleUserState = (allUsers, userName)=>{\n    return new Promise((res)=>{\n        const updatedUsers = allUsers.map((user)=>{\n            // user.name === userName ? { ...user, active: !user.active } : user\n            if (user.name === userName) {\n                if ($6f40c3a58f594b58$var$is === user.active) {\n                    $6f40c3a58f594b58$var$is = false;\n                    return {\n                        ...user,\n                        active: false\n                    };\n                } else {\n                    $6f40c3a58f594b58$var$is = true;\n                    return {\n                        ...user,\n                        active: true\n                    };\n                }\n            } else return user;\n        });\n        res(updatedUsers);\n    });\n};\nconst $6f40c3a58f594b58$var$logger = (updatedUsers)=>console.table(updatedUsers);\n// /*\n//  * Зараз працює так\n//  */\n$6f40c3a58f594b58$var$toggleUserState($6f40c3a58f594b58$var$users, 'Mango').then($6f40c3a58f594b58$var$logger);\n$6f40c3a58f594b58$var$toggleUserState($6f40c3a58f594b58$var$users, 'Mango').then($6f40c3a58f594b58$var$logger);\n$6f40c3a58f594b58$var$toggleUserState($6f40c3a58f594b58$var$users, 'Mango').then($6f40c3a58f594b58$var$logger);\n// toggleUserState(users, 'Mango', logger);\n// toggleUserState(users, 'Mango', logger);\n// toggleUserState(users, 'Lux', logger);\n/*\r\n * Повинно працювати так\r\n */ // toggleUserState(users, 'Mango').then(logger);\n// toggleUserState(users, 'Lux').then(logger);\nconst $6f40c3a58f594b58$var$randomIntegerFromInterval = (min, max)=>{\n    return Math.floor(Math.random() * (max - min + 1) + min);\n};\nconst $6f40c3a58f594b58$var$makeTransaction = (transaction)=>{\n    const delay = $6f40c3a58f594b58$var$randomIntegerFromInterval(200, 500);\n    return new Promise((res, rej)=>{\n        setTimeout(()=>{\n            const canProcess = Math.random() > 0.3;\n            console.log(transaction);\n            if (canProcess) res(transaction.id, delay);\n            else rej(transaction.id);\n        // res(transaction.id, delay);\n        // rej(transaction.id);\n        }, delay);\n    });\n};\nconst $6f40c3a58f594b58$var$logSuccess = (id, time)=>{\n    console.log(`Transaction ${id} processed in ${time}ms`);\n};\nconst $6f40c3a58f594b58$var$logError = (id)=>{\n    console.warn(`Error processing transaction ${id}. Please try again later.`);\n};\n/*\r\n * Працює так\r\n */ // makeTransaction({ id: 70, amount: 150 }, logSuccess, logError);\n// makeTransaction({ id: 71, amount: 230 }, logSuccess, logError);\n// makeTransaction({ id: 72, amount: 75 }, logSuccess, logError);\n// makeTransaction({ id: 73, amount: 100 }, logSuccess, logError);\n/*\r\n * Повинно працювати так\r\n */ $6f40c3a58f594b58$var$makeTransaction({\n    id: 70,\n    amount: 150\n}).then($6f40c3a58f594b58$var$logSuccess).catch($6f40c3a58f594b58$var$logError);\n$6f40c3a58f594b58$var$makeTransaction({\n    id: 71,\n    amount: 230\n}).then($6f40c3a58f594b58$var$logSuccess).catch($6f40c3a58f594b58$var$logError);\n$6f40c3a58f594b58$var$makeTransaction({\n    id: 72,\n    amount: 75\n}).then($6f40c3a58f594b58$var$logSuccess).catch($6f40c3a58f594b58$var$logError);\n$6f40c3a58f594b58$var$makeTransaction({\n    id: 73,\n    amount: 100\n}).then($6f40c3a58f594b58$var$logSuccess).catch($6f40c3a58f594b58$var$logError); // new important comment\n\n\n//# sourceMappingURL=promises.1e65e0fd.js.map\n","// // const promise1 = new Promise((res, rej) => {\r\n\r\n// // // })\r\n// // const makeOrder = (dish, onSuccess, onError) => {\r\n// //   const passed = Math.random() > 0.5;\r\n\r\n// //   setTimeout(() => {\r\n// //     if (passed) {\r\n// //       // якщо пройшло — викликаємо onSuccess\r\n// //     //   if (typeof onSuccess === 'function') {\r\n// //         onSuccess(`Ось ваше блюдо: ${dish}`);\r\n// //     //   }\r\n// //     } else {\r\n// //       // якщо не пройшло — викликаємо onError\r\n// //     //   if (typeof onError === 'function') {\r\n// //         onError(\"Продукти скінчились\");\r\n// //     //   }\r\n// //     }\r\n// //   }, 1000);\r\n// // };\r\n\r\n// // makeOrder(\"borsch\", (text) => console.log(text), (text) => console.log(text));\r\n\r\n// const order = (dish) => {\r\n//     return new Promise((res, rej) => {\r\n//         const passed = Math.random() > 0.5;\r\n//         setTimeout(() => {\r\n//             if (passed) {\r\n//                 res('here is your dish');\r\n//             } else {\r\n//                 rej('no components for this dish :(')\r\n//             }\r\n//         }, 2000)\r\n//     });\r\n// }\r\n\r\n// // console.log(fetch('https://jsonplaceholder.typicode.com/todos/1'));\r\n\r\n\r\n// order('borsch').then((text) => console.log(text)).catch((err) => console.log(err));\r\n\r\n// const getValues = () => {\r\n//     return fetch('https://jsonplaceholder.typicode.com/todos/1').then((res) => res.json());\r\n// }\r\n\r\n// getValues().then(res => console.log(res))\r\n\r\n\r\n// const delay = ms => {\r\n//     return new Promise((res, rej) => {\r\n//         setTimeout(() => {\r\n//             if (ms) {\r\n//                 res(ms);\r\n\r\n//             } else {\r\n//                 rej(`qwertyuio`);\r\n//             }\r\n//         }, ms);\r\n//     })\r\n// };\r\n\r\n// const logger = time => console.log(`Resolved after ${time}ms`);\r\n\r\n// // Виклич функції для перевірки\r\n// console.log(delay(1000));\r\n\r\n// delay(2000).then(logger); // Resolved after 2000ms\r\n// delay(1000).then(logger); // Resolved after 1000ms\r\n// delay().then(logger).catch(err => console.log(err)); // Resolved after 1500ms\r\n\r\n// // delay(2000).then(() => {}).catch(() => ()).finally(() => {})\r\n\r\n\r\n\r\n\r\n\r\nconst users = [\r\n    { name: 'Mango', active: true },\r\n    { name: 'Poly', active: false },\r\n    { name: 'Ajax', active: true },\r\n    { name: 'Lux', active: false },\r\n];\r\n\r\nlet isTrueMango = users[0].active;\r\nlet isTruePoly = users[1].active;\r\nlet isTrueAjax = users[2].active;\r\nlet isTrueLux = users[3].active;\r\n\r\nlet is = true;\r\nconst toggleUserState = (allUsers, userName) => {\r\n    return new Promise(res => {\r\n        const updatedUsers = allUsers.map(user => {\r\n            // user.name === userName ? { ...user, active: !user.active } : user\r\n            if (user.name === userName) {\r\n                if (is === user.active) {\r\n                    is = false;\r\n                    return { ...user, active: false }\r\n                } else {\r\n                    is = true;\r\n                    return { ...user, active: true }\r\n                }\r\n            } else {\r\n                return user\r\n            }\r\n\r\n        }\r\n        );\r\n        res(updatedUsers);\r\n    })\r\n};\r\n\r\nconst logger = updatedUsers => console.table(updatedUsers);\r\n\r\n// /*\r\n//  * Зараз працює так\r\n//  */\r\ntoggleUserState(users, 'Mango').then(logger);\r\ntoggleUserState(users, 'Mango').then(logger);\r\ntoggleUserState(users, 'Mango').then(logger);\r\n// toggleUserState(users, 'Mango', logger);\r\n// toggleUserState(users, 'Mango', logger);\r\n\r\n// toggleUserState(users, 'Lux', logger);\r\n\r\n/*\r\n * Повинно працювати так\r\n */\r\n// toggleUserState(users, 'Mango').then(logger);\r\n// toggleUserState(users, 'Lux').then(logger);\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst randomIntegerFromInterval = (min, max) => {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n};\r\n\r\nconst makeTransaction = (transaction) => {\r\n    const delay = randomIntegerFromInterval(200, 500);\r\n\r\n    return new Promise((res, rej) => {\r\n        setTimeout(() => {\r\n            const canProcess = Math.random() > 0.3;\r\n            console.log(transaction);\r\n\r\n            if (canProcess) {\r\n                res(transaction.id, delay);\r\n            } else {\r\n                rej(transaction.id);\r\n            }\r\n            // res(transaction.id, delay);\r\n            // rej(transaction.id);\r\n        }, delay);\r\n    })\r\n};\r\n\r\nconst logSuccess = (id, time) => {\r\n    console.log(`Transaction ${id} processed in ${time}ms`);\r\n};\r\n\r\nconst logError = id => {\r\n    console.warn(`Error processing transaction ${id}. Please try again later.`);\r\n};\r\n\r\n/*\r\n * Працює так\r\n */\r\n// makeTransaction({ id: 70, amount: 150 }, logSuccess, logError);\r\n// makeTransaction({ id: 71, amount: 230 }, logSuccess, logError);\r\n// makeTransaction({ id: 72, amount: 75 }, logSuccess, logError);\r\n// makeTransaction({ id: 73, amount: 100 }, logSuccess, logError);\r\n/*\r\n * Повинно працювати так\r\n */\r\nmakeTransaction({ id: 70, amount: 150 }).then(logSuccess).catch(logError);\r\n\r\nmakeTransaction({ id: 71, amount: 230 })\r\n    .then(logSuccess)\r\n    .catch(logError);\r\n\r\nmakeTransaction({ id: 72, amount: 75 })\r\n    .then(logSuccess)\r\n    .catch(logError);\r\n\r\nmakeTransaction({ id: 73, amount: 100 })\r\n    .then(logSuccess)\r\n    .catch(logError);\r\n\r\n\r\n// new important comment\r\n"],"names":["$6f40c3a58f594b58$var$users","name","active","$6f40c3a58f594b58$var$is","$6f40c3a58f594b58$var$toggleUserState","allUsers","userName","Promise","res","map","user","$6f40c3a58f594b58$var$logger","updatedUsers","console","table","then","$6f40c3a58f594b58$var$makeTransaction","transaction","delay","Math","floor","max","random","rej","setTimeout","canProcess","log","id","$6f40c3a58f594b58$var$logSuccess","time","$6f40c3a58f594b58$var$logError","warn","amount","catch"],"version":3,"file":"promises.1e65e0fd.js.map"}